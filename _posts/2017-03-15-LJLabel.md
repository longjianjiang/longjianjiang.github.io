---
layout: post
title:  "ã€Tipsã€‘è‡ªå®šä¹‰UILabel"
date:   2017-03-15
excerpt: "UILabelå¼€å‘ä¸­å¸¸è§çš„æ§ä»¶ä¹‹ä¸€ï¼Œä½†æ˜¯å®é™…éœ€æ±‚ä¸­å¾€å¾€ç³»ç»Ÿè‡ªå¸¦çš„å¹¶ä¸èƒ½æ»¡è¶³äº§å“ç»ç†çš„éœ€æ±‚ğŸ™„ï¼›ä¸‹é¢åˆ—ä¸¾ç—›ç‚¹ï¼š"
tag:
- UILabel
comments: true
---

### å‰è¨€
`UILabel`å¼€å‘ä¸­å¸¸è§çš„æ§ä»¶ä¹‹ä¸€ï¼Œä½†æ˜¯å®é™…éœ€æ±‚ä¸­å¾€å¾€ç³»ç»Ÿè‡ªå¸¦çš„å¹¶ä¸èƒ½æ»¡è¶³äº§å“ç»ç†çš„éœ€æ±‚ğŸ™„ï¼›ä¸‹é¢åˆ—ä¸¾ç—›ç‚¹ï¼š
> 1ã€ç³»ç»Ÿè‡ªå¸¦çš„ä¸èƒ½è®¾ç½®å†…è¾¹è·ï¼›
> 2ã€ç³»ç»Ÿè‡ªå¸¦çš„åªèƒ½è®¾ç½®æ°´å¹³æ–¹å‘ä¸Šçš„å¯¹é½ï¼Œå¦‚æœLabelé«˜åº¦å¤§äºæ–‡å­—æ‰€å é«˜åº¦ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šé»˜è®¤è®¾ç½®å‚ç›´æ–¹å‘å¯¹é½ä¸ºå±…ä¸­å¯¹é½;

æ‰€ä»¥æ ¹æ®ä»¥ä¸Šç—›ç‚¹ï¼Œå†³å®šè‡ªå·±å†™ä¸ªè‡ªå®šä¹‰çš„ï¼Œæ¥æ»¡è¶³æ—¥å¸¸çš„ä½¿ç”¨éœ€æ±‚ã€‚

### å¼€å§‹
æŸ¥çœ‹äº†`UILabel`çš„å¤´æ–‡ä»¶ï¼Œå‘ç°æƒ³è¦å®ç°ä¸Šè¿°ä¸¤ä¸ªåŠŸèƒ½éœ€è¦é‡å†™ç³»ç»Ÿæä¾›çš„ä¸¤ä¸ªæ–¹æ³•ï¼š

![å±å¹•å¿«ç…§ 2017-03-15 22.25.42.png](http://ocigwe4cv.bkt.clouddn.com/ljlabel_2.png)

ä¸‹é¢æ¥åˆ†æä¸‹ä¸¤ä¸ªæ–¹æ³•çš„ä½œç”¨ï¼
```
func textRect(forBounds bounds: CGRect, limitedToNumberOfLines numberOfLines: Int) -> CGRect
```
è¯¥æ–¹æ³•è¿”å›Labelå†…å®¹åœ¨ä¼ å…¥çš„`bounds`ä¸­çš„`rect`;

```
 func drawText(in rect: CGRect)
```
è¯¥æ–¹æ³•ä½œç”¨æ˜¯åœ¨ç»™å®šçš„`rect`ä¸­è¿›è¡Œç»˜åˆ¶Labelä¸­çš„å†…å®¹ï¼›

### æ¥ç€
> 1.éœ€è¦åœ¨ç¬¬ä¸€ä¸ªæ–¹æ³•ä¸­ç»™å®šå¸¦æœ‰å†…è¾¹è·çš„`bounds`ï¼›

2.è°ƒç”¨æˆ‘ä»¬é‡å†™çš„æ–¹æ³•è·å¾—Labelå†…å®¹çš„`rect`ï¼Œæ ¹æ®è®¾ç½®çš„å‚ç›´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œè¿›è¡Œä¿®æ”¹å¾—åˆ°`rect`çš„`y`å€¼ï¼›

3.æœ€åè°ƒç”¨çˆ¶ç±»çš„`drawText`æ–¹æ³•å³å¯å®ç°ï¼›


### ç„¶å
çœ‹ä¸ªæ•ˆæœå§ï¼š
```
import UIKit

class ViewController: UIViewController {
    
    lazy var customLabel: LJLabel = {
        let label = LJLabel(frame:  CGRect(x: 0, y: 20, width: 300, height: 190),
                            insets: UIEdgeInsetsMake(50, 5, 0, 10))
        label.verticalTextAligment = .top
        label.backgroundColor = UIColor.orange
        label.numberOfLines = 0
        label.font = UIFont.systemFont(ofSize: 14)
        label.text = "This is a dynamic programming[1] question. Usually, solving and fully understanding a dynamic programming problem is a 4 step process:"
        return label
    }()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        self.view.addSubview(customLabel)
        
        
    }
}
```
![å±å¹•å¿«ç…§ 2017-03-15 22.42.38.png](http://ocigwe4cv.bkt.clouddn.com/ljlabel_1.png)

æºç è¯¦è§[Github](https://github.com/longjianjiang/LJKit)

### æœ€å
è®©æˆ‘æƒ³æƒ³ğŸ˜‚
