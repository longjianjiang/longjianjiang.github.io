
# 面向对象开发原则

## 单一职责

类的职责明确和单一。高内聚，低耦合。

只有一个变化的因子，帮助判断是否符合单一职责。

## 开闭原则

对扩展开放，对修改封闭。

可以理解为实体增加新功能的时候可以添加代码，但是不能修改已有代码。已有代码的修改有可能出现蝴蝶效应。

## 里式代换原则

任何使用到父类类型的地方都可以使用子类类型进行替换，不会出现错误。

想象一个方法如果不遵守这个约定，那么方法内部一定需要if/else的判断。

满足这个约定可以使得继承只能对父类的功能进行扩展，而不是修改。这也是继承的作用所在。

## 依赖倒置原则

高层模块不应该依赖于底层模块，双方都应该依赖于抽象。抽象不应该依赖于细节，细节应该依赖于抽象。

高层模块不应该知道底层模块的实现细节。

接口应该是高层模块去指定，否则底层模块制定的接口可能暴露出实现细节，这些细节高层模块是不用关心的。

## 接口分离原则

每个接口职责单一，不同职责定义不同的接口。

## 迪米特原则

一个对象需要尽可能的少的了解其他对象。依然是为了高内聚。

## 合成原则

尽量使用对象组合(has-a)/聚合(contanis-a)，而不是继承关系达到软件复用的目的。

所谓组合的关键在于拆分，而拆分的关键是职责单一，将职责单一的各个模块进行按需组合。

# C语言中的面向对象

## 封装

[ref](https://zhengw-tech.com/2020/01/27/oop-c/)

## 继承

通过结构体的内存布局一致进行类型强转实现继承；

## 多态

可以使用函数指针来实现多态；

## 内核中的面向对象

[note1](https://lwn.net/Articles/444910/)

[note2](https://lwn.net/Articles/446317/)

# References

[http://zxfcumtcs.github.io/2018/10/04/solid/](http://zxfcumtcs.github.io/2018/10/04/solid/)
