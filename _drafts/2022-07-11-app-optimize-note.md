# app 优化的一般思路

在优化之前，对需求有个宏观的认识，需要有一定的预见性，这样可以在设计阶段做到较好的扩展性。

一般来说，app优化的主要目的还是在于减少内存的使用，减少CPU、GPU的使用。

做到以上两点，流畅性，功耗都会得到改善。

下面是一些优化的方向：

## 减少重复计算

这个点其实就是各种缓存的使用，当计算的结果可以存在有效期，可以不必每次计算浪费资源。

比如防止重复创建，内存池，线程池。

比如数据变化性不高的数据，进行一段时间的缓存。

## 预先计算

一种策略，当关键路径当计算比较复杂，可以尝试在空闲时进行预先加载，使某个步骤不至于太过耗时。

比如列表数据的预加载，在不滑到底部就提前加载，第一次进列表提前加载等。

再比如webview容器的预热，来提升第一次打开的速度。

## 延后计算

懒加载，需要用到再去计算，避免创建了用不到同时减轻同时创建的压力。

## 降低计算代价

这个思路一般来说要求较高。

比如为了性能，一些实现使用汇编。

再比如使用更优的算法，更优的数据结构。

## 不计算

这个点比较直接。

比如删除无用的逻辑，只保留最新的。

## 并发

利用多CPU，创建多个线程，任务拆分，同时执行，加快速度。

## 批量，合并

比如日志，批量的去写。

比如上报，批量的上报。

比如资源的合并，多个小图合成一张大图，使用的时候进行取部分。

# References

[https://www.cnblogs.com/me115/p/4707251.html](https://www.cnblogs.com/me115/p/4707251.html)

[https://www.cnblogs.com/me115/p/4726228.html](https://www.cnblogs.com/me115/p/4726228.html)

[https://www.cnblogs.com/xybaby/p/9055734.html](https://www.cnblogs.com/xybaby/p/9055734.html)
